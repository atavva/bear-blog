{"ast":null,"code":"import _regeneratorRuntime from\"/Users/anitavva/Desktop/Cubstart Web/project/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/anitavva/Desktop/Cubstart Web/project/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/anitavva/Desktop/Cubstart Web/project/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/anitavva/Desktop/Cubstart Web/project/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import logo from'./logo.svg';import img from'./img.jpg';import'./App.css';import'./MakePost.js';import Title from'./Title.js';import Signin from\"./Signin.js\";import{BrowserRouter as Router,RouterProvider,Routes,Route,Link}from\"react-router-dom\";import MakePost from\"./MakePost.js\";import{useEffect,useState}from'react';import Homepage from'./Homepage.js';// Import the functions you need from the SDKs you need\nimport{initializeApp}from'https://www.gstatic.com/firebasejs/9.14.0/firebase-app.js';import{getAuth,signInWithPopup,signOut,GoogleAuthProvider,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/9.14.0/firebase-auth.js';import{getFirestore,addDoc,collection,query,where,getDocs,Timestamp}from'https://www.gstatic.com/firebasejs/9.14.0/firebase-firestore.js';// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n// Your web app's Firebase configuration\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var firebaseConfig={apiKey:\"AIzaSyDSJwKWKgzd8W49qVYVvjY3kvGHpciWyYU\",authDomain:\"bear-blog.firebaseapp.com\",projectId:\"bear-blog\",storageBucket:\"bear-blog.appspot.com\",messagingSenderId:\"266223683560\",appId:\"1:266223683560:web:3a30436c38aa3df2b5865d\"};// // Initialize Firebase\nvar app=initializeApp(firebaseConfig);var provider=new GoogleAuthProvider();var auth=getAuth(app);var db=getFirestore(app);function App(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),items=_useState4[0],setItems=_useState4[1];function signInPopUp(){signInWithPopup(auth,provider);}function signOutCool(){signOut(auth,provider);}function allPosts(){return _allPosts.apply(this,arguments);}function _allPosts(){_allPosts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var entryRef,q,querySnapshot,itemsList;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:entryRef=collection(db,\"posts\");q=query(entryRef);_context.next=4;return getDocs(q);case 4:querySnapshot=_context.sent;itemsList=[];querySnapshot.docs.map(function(doc){return itemsList.push({username:doc.data().username,entry:doc.data().entry});});console.log(itemsList);setItems(itemsList);case 9:case\"end\":return _context.stop();}}},_callee);}));return _allPosts.apply(this,arguments);}useEffect(function(){allPosts();},[]);function addPostToDB(_x){return _addPostToDB.apply(this,arguments);}function _addPostToDB(){_addPostToDB=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(text){var entryRef,newEntryRef;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:entryRef=collection(db,\"posts\");_context2.next=3;return addDoc(entryRef,{username:currentUser.displayName,entry:text});case 3:newEntryRef=_context2.sent;case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _addPostToDB.apply(this,arguments);}onAuthStateChanged(auth,function(user){console.log(\"auth state changed\");if(user){console.log(\"hello you are signed in\");setCurrentUser(user);}else{console.log(\"you are signed out\");setCurrentUser(null);}});var props={signInPopUp:signInPopUp,signOutCool:signOutCool,currentUser:currentUser,addPostToDB:addPostToDB,items:items};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Homepage,_objectSpread({},props))}),/*#__PURE__*/_jsx(Route,{path:\"/signin\",element:/*#__PURE__*/_jsx(Signin,_objectSpread({},props))}),/*#__PURE__*/_jsx(Route,{path:\"/makepost\",element:/*#__PURE__*/_jsx(MakePost,_objectSpread({},props))})]})});}export default App;","map":{"version":3,"names":["logo","img","Title","Signin","BrowserRouter","Router","RouterProvider","Routes","Route","Link","MakePost","useEffect","useState","Homepage","initializeApp","getAuth","signInWithPopup","signOut","GoogleAuthProvider","onAuthStateChanged","getFirestore","addDoc","collection","query","where","getDocs","Timestamp","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","provider","auth","db","App","currentUser","setCurrentUser","items","setItems","signInPopUp","signOutCool","allPosts","entryRef","q","querySnapshot","itemsList","docs","map","doc","push","username","data","entry","console","log","addPostToDB","text","displayName","newEntryRef","user","props"],"sources":["/Users/anitavva/Desktop/Cubstart Web/project/my-app/src/App.js"],"sourcesContent":["import logo from './logo.svg';\nimport img from './img.jpg';\nimport './App.css'; \nimport './MakePost.js';\nimport Title from './Title.js';\nimport Signin from \"./Signin.js\";\nimport {\n  BrowserRouter as Router,\n  RouterProvider,\n  Routes,\n  Route,\n  Link,\n} from \"react-router-dom\";\nimport MakePost from \"./MakePost.js\";\nimport { useEffect, useState } from 'react';\nimport Homepage from './Homepage.js'\n// Import the functions you need from the SDKs you need\nimport { initializeApp } from 'https://www.gstatic.com/firebasejs/9.14.0/firebase-app.js';\nimport { getAuth, signInWithPopup, signOut, GoogleAuthProvider, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/9.14.0/firebase-auth.js';\nimport { getFirestore, addDoc, collection, query, where, getDocs, Timestamp } from 'https://www.gstatic.com/firebasejs/9.14.0/firebase-firestore.js';\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n   apiKey: \"AIzaSyDSJwKWKgzd8W49qVYVvjY3kvGHpciWyYU\",\n   authDomain: \"bear-blog.firebaseapp.com\",\n   projectId: \"bear-blog\",\n   storageBucket: \"bear-blog.appspot.com\",\n   messagingSenderId: \"266223683560\",\n   appId: \"1:266223683560:web:3a30436c38aa3df2b5865d\"\n   };\n\n// // Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst provider = new GoogleAuthProvider();\n\nconst auth = getAuth(app);\n\nconst db = getFirestore(app);\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState()\n  const [items, setItems] = useState(null)\n\n\n  function signInPopUp() {\n    signInWithPopup(auth, provider);\n  }\n  \n  function signOutCool() {\n    signOut(auth, provider);\n  }\n\n  async function allPosts() {\n\n    let entryRef = collection(db, \"posts\")\n    const q = query(entryRef);\n    const querySnapshot = await getDocs(q);\n    let itemsList = []\n\n    querySnapshot.docs.map(doc => itemsList.push(\n        {\n          username: doc.data().username,\n          entry: doc.data().entry\n        })\n    );\n    console.log(itemsList)\n    setItems(itemsList)\n  }\n\n  useEffect(() => {\n  allPosts()\n }, []\n  )\n\n  async function addPostToDB(text) {\n    let entryRef = collection(db, \"posts\")\n\n    const newEntryRef = await addDoc(entryRef, {\n      username: currentUser.displayName,\n      entry: text,\n  });\n  }\n  \n  onAuthStateChanged(auth, (user) => {\n  \n  console.log(\"auth state changed\")\n  if (user) {\n    \n    console.log(\"hello you are signed in\")\n    setCurrentUser(user)\n  } else {\n    console.log(\"you are signed out\")\n    setCurrentUser(null)\n  }\n  });\n\n  \n  let props = {\n    signInPopUp: signInPopUp,\n    signOutCool: signOutCool,\n    currentUser: currentUser,\n    addPostToDB: addPostToDB,\n    items: items\n  }\n\n  return (\n    <div className=\"App\">\n        <Routes>\n          <Route path = \"/\" element = {<Homepage {...props}/>} />\n          <Route path = \"/signin\" element = {<Signin {...props}/>}/>\n          <Route path = \"/makepost\" element = {<MakePost {...props}/>}/> \n        </Routes>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"mjBAAA,MAAOA,KAAI,KAAM,YAAY,CAC7B,MAAOC,IAAG,KAAM,WAAW,CAC3B,MAAO,WAAW,CAClB,MAAO,eAAe,CACtB,MAAOC,MAAK,KAAM,YAAY,CAC9B,MAAOC,OAAM,KAAM,aAAa,CAChC,OACEC,aAAa,GAAIC,OAAM,CACvBC,cAAc,CACdC,MAAM,CACNC,KAAK,CACLC,IAAI,KACC,kBAAkB,CACzB,MAAOC,SAAQ,KAAM,eAAe,CACpC,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAOC,SAAQ,KAAM,eAAe,CACpC;AACA,OAASC,aAAa,KAAQ,2DAA2D,CACzF,OAASC,OAAO,CAAEC,eAAe,CAAEC,OAAO,CAAEC,kBAAkB,CAAEC,kBAAkB,KAAQ,4DAA4D,CACtJ,OAASC,YAAY,CAAEC,MAAM,CAAEC,UAAU,CAAEC,KAAK,CAAEC,KAAK,CAAEC,OAAO,CAAEC,SAAS,KAAQ,iEAAiE,CACpJ;AACA;AAEA;AAAA,wFACA,GAAMC,eAAc,CAAG,CACpBC,MAAM,CAAE,yCAAyC,CACjDC,UAAU,CAAE,2BAA2B,CACvCC,SAAS,CAAE,WAAW,CACtBC,aAAa,CAAE,uBAAuB,CACtCC,iBAAiB,CAAE,cAAc,CACjCC,KAAK,CAAE,2CACP,CAAC,CAEJ;AACA,GAAMC,IAAG,CAAGpB,aAAa,CAACa,cAAc,CAAC,CACzC,GAAMQ,SAAQ,CAAG,GAAIjB,mBAAkB,EAAE,CAEzC,GAAMkB,KAAI,CAAGrB,OAAO,CAACmB,GAAG,CAAC,CAEzB,GAAMG,GAAE,CAAGjB,YAAY,CAACc,GAAG,CAAC,CAE5B,QAASI,IAAG,EAAG,CACb,cAAsC1B,QAAQ,EAAE,wCAAzC2B,WAAW,eAAEC,cAAc,eAClC,eAA0B5B,QAAQ,CAAC,IAAI,CAAC,yCAAjC6B,KAAK,eAAEC,QAAQ,eAGtB,QAASC,YAAW,EAAG,CACrB3B,eAAe,CAACoB,IAAI,CAAED,QAAQ,CAAC,CACjC,CAEA,QAASS,YAAW,EAAG,CACrB3B,OAAO,CAACmB,IAAI,CAAED,QAAQ,CAAC,CACzB,CAAC,QAEcU,SAAQ,oIAAvB,4KAEMC,QAAQ,CAAGxB,UAAU,CAACe,EAAE,CAAE,OAAO,CAAC,CAChCU,CAAC,CAAGxB,KAAK,CAACuB,QAAQ,CAAC,uBACGrB,QAAO,CAACsB,CAAC,CAAC,QAAhCC,aAAa,eACfC,SAAS,CAAG,EAAE,CAElBD,aAAa,CAACE,IAAI,CAACC,GAAG,CAAC,SAAAC,GAAG,QAAIH,UAAS,CAACI,IAAI,CACxC,CACEC,QAAQ,CAAEF,GAAG,CAACG,IAAI,EAAE,CAACD,QAAQ,CAC7BE,KAAK,CAAEJ,GAAG,CAACG,IAAI,EAAE,CAACC,KACpB,CAAC,CAAC,GACL,CACDC,OAAO,CAACC,GAAG,CAACT,SAAS,CAAC,CACtBP,QAAQ,CAACO,SAAS,CAAC,uDACpB,2CAEDtC,SAAS,CAAC,UAAM,CAChBkC,QAAQ,EAAE,CACX,CAAC,CAAE,EAAE,CACH,SAEcc,YAAW,+IAA1B,kBAA2BC,IAAI,iJACzBd,QAAQ,CAAGxB,UAAU,CAACe,EAAE,CAAE,OAAO,CAAC,wBAEZhB,OAAM,CAACyB,QAAQ,CAAE,CACzCQ,QAAQ,CAAEf,WAAW,CAACsB,WAAW,CACjCL,KAAK,CAAEI,IACX,CAAC,CAAC,QAHME,WAAW,wEAIlB,8CAED3C,kBAAkB,CAACiB,IAAI,CAAE,SAAC2B,IAAI,CAAK,CAEnCN,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC,CACjC,GAAIK,IAAI,CAAE,CAERN,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC,CACtClB,cAAc,CAACuB,IAAI,CAAC,CACtB,CAAC,IAAM,CACLN,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC,CACjClB,cAAc,CAAC,IAAI,CAAC,CACtB,CACA,CAAC,CAAC,CAGF,GAAIwB,MAAK,CAAG,CACVrB,WAAW,CAAEA,WAAW,CACxBC,WAAW,CAAEA,WAAW,CACxBL,WAAW,CAAEA,WAAW,CACxBoB,WAAW,CAAEA,WAAW,CACxBlB,KAAK,CAAEA,KACT,CAAC,CAED,mBACE,YAAK,SAAS,CAAC,KAAK,uBAChB,MAAC,MAAM,yBACL,KAAC,KAAK,EAAC,IAAI,CAAG,GAAG,CAAC,OAAO,cAAI,KAAC,QAAQ,kBAAKuB,KAAK,EAAI,EAAG,cACvD,KAAC,KAAK,EAAC,IAAI,CAAG,SAAS,CAAC,OAAO,cAAI,KAAC,MAAM,kBAAKA,KAAK,EAAI,EAAE,cAC1D,KAAC,KAAK,EAAC,IAAI,CAAG,WAAW,CAAC,OAAO,cAAI,KAAC,QAAQ,kBAAKA,KAAK,EAAI,EAAE,GACvD,EACP,CAEV,CAEA,cAAe1B,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}